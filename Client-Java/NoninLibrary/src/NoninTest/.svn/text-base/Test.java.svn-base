package NoninTest;

import NoninPackage.INoninListener;
import NoninPackage.NoninEvent;
import NoninPackage.NoninManager;


public class Test implements INoninListener{

	public static void main (String [] args) throws Exception {
		Test obj = new Test();
		
		obj.estaConectadoNonin();

	}

	public boolean estaConectadoNonin() throws Exception{
	 
		Test tes = new Test();
		
		try{
			NoninManager nm = new NoninManager();
			nm.addListener(tes);
			nm.connect();
			

		    
			long inicio = System.currentTimeMillis();
			boolean noCumplido=true;
			while(noCumplido)
			if((System.currentTimeMillis()-inicio)>12000){
				System.out.println("Parar");
				nm.disconnect();
				noCumplido=false;
				//throw new NullPointerException();

			}
			
		
			//System.out.println("Conectado el n con ID = " + wiimote.getId());
			return true;
		}catch(Exception e){
			System.out.println("No esta conectado");
			throw new NullPointerException();
			//return false;
		}
	
		
	}



	@Override
	public void noninUpdate(NoninEvent ne) {
		
		System.out.println("Pulso: "+ne.pulse);
		System.out.println("Oxigenacion: "+ne.oxy);

		
	}



}
