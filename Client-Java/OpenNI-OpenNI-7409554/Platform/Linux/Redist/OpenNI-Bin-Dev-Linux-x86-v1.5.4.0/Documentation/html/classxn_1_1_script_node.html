<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenNI 1.5.4: xn::ScriptNode Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacexn.html">xn</a>::<a class="el" href="classxn_1_1_script_node.html">ScriptNode</a>
  </div>
</div>
<div class="contents">
<h1>xn::ScriptNode Class Reference<br/>
<small>
[<a class="el" href="group__cppref__prd__func.html">Production Nodes Functionality</a>]</small>
</h1><!-- doxytag: class="xn::ScriptNode" --><!-- doxytag: inherits="xn::ProductionNode" -->
<p><code>#include &lt;<a class="el" href="_xn_cpp_wrapper_8h_source.html">XnCppWrapper.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for xn::ScriptNode:</div>
<div class="dynsection">
<div class="center"><img src="classxn_1_1_script_node__inherit__graph.png" border="0" usemap="#xn_1_1_script_node_inherit__map" alt="Inheritance graph"/></div>
<map name="xn_1_1_script_node_inherit__map" id="xn_1_1_script_node_inherit__map">
<area shape="rect" href="classxn_1_1_production_node.html" title="xn::ProductionNode" alt="" coords="5,83,141,112"/><area shape="rect" href="classxn_1_1_node_wrapper.html" title="xn::NodeWrapper" alt="" coords="13,5,133,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classxn_1_1_script_node-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxn_1_1_script_node.html#a2232acdf3ed6e92e7d5cf5678fa91263">ScriptNode</a> (<a class="el" href="_xn_types_8h.html#aec321f7c8a5939f5e4079e64999010f6">XnNodeHandle</a> hNode=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxn_1_1_script_node.html#aaccf65ff9e336407441ddd0d765771f2">ScriptNode</a> (const <a class="el" href="classxn_1_1_node_wrapper.html">NodeWrapper</a> &amp;other)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_xn_status_8h.html#a23967099202ddb640cd2044b3808253c">XnStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxn_1_1_script_node.html#a7624616cef6abada5ff651cf14d821e6">Create</a> (<a class="el" href="classxn_1_1_context.html">Context</a> &amp;context, const XnChar *strFormat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const XnChar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxn_1_1_script_node.html#a220e94ca348566036fc4498bfacea987">GetSupportedFormat</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_xn_status_8h.html#a23967099202ddb640cd2044b3808253c">XnStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxn_1_1_script_node.html#a17c0773c260923a6aa93d3c468d6303a">LoadScriptFromFile</a> (const XnChar *strFileName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_xn_status_8h.html#a23967099202ddb640cd2044b3808253c">XnStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxn_1_1_script_node.html#a09738e069103a21e55dde9e2c566072f">LoadScriptFromString</a> (const XnChar *strScript)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_xn_status_8h.html#a23967099202ddb640cd2044b3808253c">XnStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxn_1_1_script_node.html#a9eb5ce82b73ae79f5952427715a06af3">Run</a> (<a class="el" href="classxn_1_1_enumeration_errors.html">EnumerationErrors</a> *pErrors)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><b>Purpose:</b> The <a class="el" href="classxn_1_1_script_node.html">ScriptNode</a> object loads an XML script from a file or string, and then runs the XML script to build a production graph. It also references every node created from that script, so it wouldn't be destroyed.</p>
<p><b>Remarks:</b></p>
<p>A typical usage of a script node is:</p>
<ul>
<li>Create the script node, using the <a class="el" href="classxn_1_1_script_node.html#a7624616cef6abada5ff651cf14d821e6">Create()</a> method.</li>
<li>Load XML script from file or string, using <a class="el" href="classxn_1_1_script_node.html#a17c0773c260923a6aa93d3c468d6303a">LoadScriptFromFile()</a> or <a class="el" href="classxn_1_1_script_node.html#a09738e069103a21e55dde9e2c566072f">LoadScriptFromString()</a>.</li>
<li>Execute the script, using <a class="el" href="classxn_1_1_script_node.html#a9eb5ce82b73ae79f5952427715a06af3">Run()</a>.</li>
</ul>
<p>Note that the context's <a class="el" href="classxn_1_1_context.html#a0145a926d2656d0f05399ed8d5f90ec6">RunXmlScriptFromFile()</a> or <a class="el" href="classxn_1_1_context.html#a3cdce851bb38afd2555549c2120861ba">RunXmlScript()</a> methods can be used to perform all above steps.</p>
<p>All production nodes in the production graph use reference count to determine their life time, but if an application executed a script, it can't know upfront which nodes will be created by this script, and so, can't take reference to them, so those nodes might be destroyed immediately. The script node, apart from executing the script, also keeps reference to all the nodes created by the script. This means that if the script node is destroyed, every production node that was created by the script, and is unreferenced by the application will also be destroyed. For this reason, it is recommended for application using XML scripts to keep a reference to the script node as long as they keep a reference to the context itself.</p>
<p>A single <a class="el" href="classxn_1_1_script_node.html">ScriptNode</a> object is responsible for building the entire production graph, irrespective of however many node definitions there are in the XML script and how many production nodes are created.</p>
<p>For additional information about XML scripts, see <a class="el" href="xmlscripts.html">Xml Scripts</a>. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2232acdf3ed6e92e7d5cf5678fa91263"></a><!-- doxytag: member="xn::ScriptNode::ScriptNode" ref="a2232acdf3ed6e92e7d5cf5678fa91263" args="(XnNodeHandle hNode=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xn::ScriptNode::ScriptNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_xn_types_8h.html#aec321f7c8a5939f5e4079e64999010f6">XnNodeHandle</a>&nbsp;</td>
          <td class="paramname"> <em>hNode</em> = <code>NULL</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Ctor</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hNode</em>&nbsp;</td><td>Node handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaccf65ff9e336407441ddd0d765771f2"></a><!-- doxytag: member="xn::ScriptNode::ScriptNode" ref="aaccf65ff9e336407441ddd0d765771f2" args="(const NodeWrapper &amp;other)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xn::ScriptNode::ScriptNode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classxn_1_1_node_wrapper.html">NodeWrapper</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>other</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a7624616cef6abada5ff651cf14d821e6"></a><!-- doxytag: member="xn::ScriptNode::Create" ref="a7624616cef6abada5ff651cf14d821e6" args="(Context &amp;context, const XnChar *strFormat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_xn_status_8h.html#a23967099202ddb640cd2044b3808253c">XnStatus</a> xn::ScriptNode::Create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classxn_1_1_context.html">Context</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const XnChar *&nbsp;</td>
          <td class="paramname"> <em>strFormat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a220e94ca348566036fc4498bfacea987"></a><!-- doxytag: member="xn::ScriptNode::GetSupportedFormat" ref="a220e94ca348566036fc4498bfacea987" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const XnChar* xn::ScriptNode::GetSupportedFormat </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a17c0773c260923a6aa93d3c468d6303a"></a><!-- doxytag: member="xn::ScriptNode::LoadScriptFromFile" ref="a17c0773c260923a6aa93d3c468d6303a" args="(const XnChar *strFileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_xn_status_8h.html#a23967099202ddb640cd2044b3808253c">XnStatus</a> xn::ScriptNode::LoadScriptFromFile </td>
          <td>(</td>
          <td class="paramtype">const XnChar *&nbsp;</td>
          <td class="paramname"> <em>strFileName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Loads an XML script file into the <a class="el" href="classxn_1_1_script_node.html">ScriptNode</a> object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>strFileName</em>&nbsp;</td><td>Name of file containing an XML script. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a09738e069103a21e55dde9e2c566072f"></a><!-- doxytag: member="xn::ScriptNode::LoadScriptFromString" ref="a09738e069103a21e55dde9e2c566072f" args="(const XnChar *strScript)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_xn_status_8h.html#a23967099202ddb640cd2044b3808253c">XnStatus</a> xn::ScriptNode::LoadScriptFromString </td>
          <td>(</td>
          <td class="paramtype">const XnChar *&nbsp;</td>
          <td class="paramname"> <em>strScript</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Loads an XML script string into the <a class="el" href="classxn_1_1_script_node.html">ScriptNode</a> object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>strScript</em>&nbsp;</td><td>String containing an XML script. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9eb5ce82b73ae79f5952427715a06af3"></a><!-- doxytag: member="xn::ScriptNode::Run" ref="a9eb5ce82b73ae79f5952427715a06af3" args="(EnumerationErrors *pErrors)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_xn_status_8h.html#a23967099202ddb640cd2044b3808253c">XnStatus</a> xn::ScriptNode::Run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classxn_1_1_enumeration_errors.html">EnumerationErrors</a> *&nbsp;</td>
          <td class="paramname"> <em>pErrors</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Runs the <a class="el" href="classxn_1_1_script_node.html">ScriptNode</a> object's XML script to build a production graph. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>pErrors</em>&nbsp;</td><td>List of enumeration errors produced during method execution.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Remarks</b></p>
<p>This method causes the whole production graph to enter Generating state. To read data you have to run one of the <a class="el" href="conc__updating__data.html">'Update Data'</a> methods of the <a class="el" href="classxn_1_1_context.html">Context</a> or of the node itself. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_xn_cpp_wrapper_8h_source.html">XnCppWrapper.h</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Jun 13 21:55:51 2012 for OpenNI 1.5.4 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
