<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenNI 1.5.4: Sample Programs for the OpenNI API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="main.html">OpenNI Overview</a>&nbsp;&raquo;&nbsp;<a class="el" href="smpls__n__guides.html">Samples and Guides</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="smpls">Sample Programs for the OpenNI API </a></h1><p>This OpenNI installation comes with a number of sample programs. All samples are placed under the 'Samples' folder, and their binaries can be found under: </p>
<div class="fragment"><pre class="fragment">        Samples\\Bin\\Debug
        
         - or -
         
        Samples\\Bin\\Release
</pre></div><p>Most samples use an XML file to configure OpenNI. This file can be found at: </p>
<div class="fragment"><pre class="fragment">        %OPEN_NI_INSTALL_DIR\%\\Data\\SamplesConfig.xml&lt;/code&gt;
</pre></div><p>There are samples for the C++, C#/.NET and Java interfaces.</p>
<p>This help document describes the sample programs showing how to program with the OpenNI API. Follow the links below for a detailed description of each sample programs.</p>
<ul>
<li><a class="el" href="smpl__audio.html">NiAudioSample.cpp - sample program</a></li>
<li><a class="el" href="smpl__back__recrdr.html">NiBackRecorder.cpp - sample program</a></li>
<li><a class="el" href="smpl__cnvx__to__oni.html">NiConvertXToONI.cpp - sample program</a></li>
<li><a class="el" href="smpl__record__raw.html">NiRecordRaw.cpp - sample program</a></li>
<li><a class="el" href="smpl__record__syn.html">NiRecordSynthetic.cpp - sample program</a></li>
<li><a class="el" href="smpl__simple__create.html">NiSimpleCreate.cpp - sample program</a></li>
<li><a class="el" href="smpl__simple__read.html">NiSimpleRead.cpp - sample program</a></li>
<li><a class="el" href="smpl__simple__view.html">NiSimpleViewer.cpp - sample program</a></li>
<li><a class="el" href="smpl__user__tracker.html">NiUserTracker - sample program</a></li>
<li><a class="el" href="smpl__niviewer.html">NiViewer - sample program</a></li>
<li><a class="el" href="smpl__simple__read__java.html">SimpleRead.java - sample program (Java)</a></li>
<li><a class="el" href="smpl__simple__read__net.html">SimpleRead.net - sample program (C#/.NET)</a></li>
<li><a class="el" href="smpl__simple__view__java.html">SimpleViewer.java - sample program (Java)</a></li>
<li><a class="el" href="smpl__simple__view__net.html">SimpleViewer.net - sample program (C#/.NET)</a></li>
<li><a class="el" href="smpl__user__tracker__java.html">UserTracker.java - sample program (Java)</a></li>
<li><a class="el" href="smpl__user__tracker__net.html">UserTracker.net - sample program (C#)</a></li>
<li><a class="el" href="smpl__handtracker__java.html">HandTracker.java - sample program (java)</a></li>
</ul>
<h2><a class="anchor" id="smpls_overview">
Summary of Sample Programs</a></h2>
<p>Following are brief descriptions of the basic purpose of some of the main sample programs above.</p>
<h3><a class="anchor" id="nisimpleread">
NiSimpleRead for C++</a></h3>
<p>NiSimpleRead is very basic. It configures OpenNI using the SamplesConfig XML file, and then takes the depth generator node (it assumes there is one. If not, the sample will exit with an error). It then loops, reading new frames from the depth generator, and prints out the depth value of the middle pixel. The sample exists when the user presses 'ESC'.</p>
<h3><a class="anchor" id="nisimplecreate">
NiSimpleCreate for C++</a></h3>
<p>NiSimpleCreate is an example of creating a production node programmatically in code, rather than using the SamplesConfig XML file. After creating a depth node, it reads from it like NiSimpleRead does.</p>
<h3><a class="anchor" id="nisimpleviewer">
NiSimpleViewer for C++</a></h3>
<p>NiSimpleViewer is a small OpenGL application which draws the depth maps and the image maps to the screen. It configures OpenNI using the SamplesConfig XML, but requires both a DepthGenerator node and an ImageGenerator node to be present, both with the same resolution, and the ImageGenerator node at RGB24 format. The application creates a histogram of the depth map and draws the frame using it to allow better visibility of the depth map.</p>
<p>The following keys can be used to control the application: </p>
<table class="doxtable">
<tr>
<th>Key </th><th>Description  </th></tr>
<tr>
<td>1 </td><td>Converts to OVERLAY mode, drawing a depth map on top of the image map. It also sets the depth viewpoint to the image viewpoint (using the AlternativeViewPoint capability).   </td></tr>
<tr>
<td>2 </td><td>Draws only the depth map. It also turns off AlternativeViewPoint operation.  </td></tr>
<tr>
<td>3 </td><td>Draws only the image map. It also turns off AlternativeViewPoint operation.  </td></tr>
<tr>
<td>Esc </td><td>Closes the application  </td></tr>
</table>
<h3><a class="anchor" id="niconvertxtooni">
NiConvertXToONI for C++</a></h3>
<p>NiConvertXToONI opens any recording, takes every node in the recording, and records it to a new ONI recording. It takes both the input file name and the output file name from the command line.</p>
<h3><a class="anchor" id="nirecordsynthetic">
NiRecordSynthetic for C++</a></h3>
<p>NiRecordSynthetic shows how to open a recording, perform some transformation on the data in it, and then re-record this data.</p>
<h3><a class="anchor" id="nibackrecorder">
NiBackRecorder for C++</a></h3>
<p>niBackRecorder is a command line tool, which stores frames in memory in a cyclic buffer, and when requested (clicking 'd') dumps that cyclic buffer to an ONI file. In effect, it saves the most recent x seconds (configurable).</p>
<h3><a class="anchor" id="nibackrecorder_usage">
Usage</a></h3>
<div class="fragment"><pre class="fragment">                niBackRecorder time &lt;seconds&gt; [depth [qvga|vga]] [image [qvga|vga]] [verbose] [mirror &lt;on|off&gt;] [registration] [framesync] [outdir &lt;directory&gt;]
</pre></div><p>The following options are mandatory:</p>
<ul>
<li><b>time</b> Number of seconds to dump each time.</li>
</ul>
<p>The following options can be used:</p>
<ul>
<li><b>depth</b> Sets the resolution of the depth, to either QVGA or VGA. If not mentioned, depth is off. If no resolution is mentioned, QVGA is used.</li>
<li><b>image</b> Sets the resolution of the image, to either QVGA or VGA. If not mentioned, image is off. If no resolution is mentioned, QVGA is used.</li>
<li><b>verbose</b> Turns on the log.</li>
<li><b>mirror</b> Set the mirror mode. If not mentioned, uses whatever was configured.</li>
<li><b>registration</b> Change depth to match image.</li>
<li><b>framesync</b> Syncronize between depth and image.</li>
<li><b>outdir</b> Where to create the oni files. Default is the execution directory.</li>
</ul>
<p>Note: When designing your application it is important to consider the amount of memory used to store the frames. </p>
<table class="doxtable">
<tr>
<th>Configuration </th><th>Size  </th></tr>
<tr>
<td>1 second, QVGA depth </td><td>30*320*240*2B = 4500KB  </td></tr>
<tr>
<td>1 second, QVGA image </td><td>30*320*240*3B = 6750KB  </td></tr>
<tr>
<td>1 second, VGA depth </td><td>30*640*480*2B = 18000KB  </td></tr>
<tr>
<td>1 second, VGA image </td><td>30*640*480*3B = 27000KB  </td></tr>
</table>
<h3><a class="anchor" id="nirecordraw">
NiRecordRaw for C++</a></h3>
<p>NiRecordRaw is an OpenNI sample program for recording raw data, and then playing it back. Recording raw data may be useful for middleware developers who produce a custom type of data that isn't defined by OpenNI. In addition, recording raw data may also be useful for middleware developers who save additional debugging information in the ONI file. This additional data may be used in conjunction with the standard OpenNI data types such as depth output data stored in the file. In this case, each frame of debugging information will match a depth frame.</p>
<p>In this sample, the raw data is artificial data that the application itself synthesizes.</p>
<h3><a class="anchor" id="niaudiosample">
NiAudioSample for C++</a></h3>
<p>NiAudioSample is an OpenNI sample program for using the Audio interface.</p>
<p>It demonstrates an OpenNI production graph using an AudioGenerator node to play audio, reading the audio data from an audio input device. This sample also demonstrates recording the audio data to a PCM file.</p>
<h3><a class="anchor" id="nisimplereadjava">
SimpleRead for Java</a></h3>
<p>See NiSimpleRead for C++.</p>
<h3><a class="anchor" id="nisimplereadjava">
SimpleRead for Java</a></h3>
<p>See NiSimpleRead for C++.</p>
<h3><a class="anchor" id="nisimpleviewer">
NiSimpleViewer for C++</a></h3>
<p>See NiSimpleViewer for C++.</p>
<h3><a class="anchor" id="nisimpleviewer">
NiSimpleViewer for C++</a></h3>
<p>See NiSimpleViewer for C++. </p>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Jun 13 21:55:36 2012 for OpenNI 1.5.4 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
